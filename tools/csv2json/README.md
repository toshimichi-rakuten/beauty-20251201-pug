# CSV to JSON 使い方

## 事前準備
### 1. Node環境を整備
- ターミナルで以下コマンドを入力し、バージョン数が返ってきたらOKです
  - ``` $ node -v ```

### 2. 必要なパッケージをインストールする
- プロジェクトディレクトリ直下で以下コマンドを実行
  - ``` $ npm install ```
- または、Prepros アプリの「Packages」タブからパッケージをインストール

---

## CSVからJSONファイルへの変換
### 1. 指定のディレクトリにファイルを配置する
- [/cnt/_csv2json/data/](./data/) へ ` master.csv ` というファイル名で、utf-8に変換せずにCSVファイルを配置
### 2. 変換コマンドを実行する
  - コマンドから実行する場合
    - ``` $ npm run convert:csv_to_json ```
  - VSCodeから実行する場合
    - サイドメニューの「convert:csv_to_json」にマウスオーバーすると表示される「▷」アイコンをクリック
  - [data/](./data/) 内にjsonファイルが生成されます
    - 初回のみ、PCのパスワード入力を求められる可能性あり

---

## 絞り込みUIの実装について
- [template/](./template/) 内にいくつかテンプレートがあるので、必要な検索軸に合わせてJSとHTML、CSSをコピペして利用してください
- 絞り込み実行時に `filtered_cnt_shoplist` というイベント名で dataLayer をpushしています
  - 絞り込みが使われているか、また、絞り込み実行時のCVRを計測したい場合は、GTMを設定し、GAで計測してください
